<!DOCTYPE html>

<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 4 & Angular 8
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
Renew Support: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<!-- begin::Head -->
<head>
    <!--begin::Base Path (base relative path for assets of this page) -->
    <base th:href="@{/}">
    <!--end::Base Path -->
    <meta charset="utf-8" />
    <title>LHDT | Dashboard</title>
    <meta name="description" content="Updates and statistics">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <div th:insert="~{fragments/css :: global-css}"/>
</head>

<!-- end::Head -->

<!-- begin::Body -->
<body class="kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--fixed kt-subheader--solid kt-aside--enabled kt-aside--fixed kt-page--loading">

<!-- begin:: Page -->

<!-- begin:: Header Mobile -->
<div th:insert="~{fragments/header-mobile :: header-mobile}"/>
<!-- end:: Header Mobile -->

<div class="kt-grid kt-grid--hor kt-grid--root" >
    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
        <!-- begin:: Aside -->
        <div th:insert="~{fragments/aside :: aside}"/>
        <!-- end:: Aside -->
        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">
            <!-- begin:: Header -->
            <div th:insert="~{fragments/header :: header}"/>
            <!-- end:: Header -->
            <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">

                <!-- begin:: Content Head -->
                <div class="kt-subheader   kt-grid__item" id="kt_subheader">
                    <div class="kt-container  kt-container--fluid ">
                        <div class="kt-subheader__main">
                            <h3 class="kt-subheader__title">
                                Users
                            </h3>
                            <span class="kt-subheader__separator kt-subheader__separator--v"></span>
                            <div class="kt-subheader__group" id="kt_subheader_search">
										<span class="kt-subheader__desc" id="kt_subheader_total">
											450 Total </span>
                                <form class="kt-margin-l-20" id="kt_subheader_search_form">
                                    <div class="kt-input-icon kt-input-icon--right kt-subheader__search">
                                        <input type="text" class="form-control" placeholder="Search..." id="generalSearch">
                                        <span class="kt-input-icon__icon kt-input-icon__icon--right">
													<span>
														<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
															<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
																<rect id="bound" x="0" y="0" width="24" height="24"></rect>
																<path d="M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z" id="Path-2" fill="#000000" fill-rule="nonzero" opacity="0.3"></path>
																<path d="M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z" id="Path" fill="#000000" fill-rule="nonzero"></path>
															</g>
														</svg>

                                                        <!--<i class="flaticon2-search-1"></i>-->
													</span>
												</span>
                                    </div>
                                </form>
                            </div>
                            <div class="kt-subheader__group kt-hidden" id="kt_subheader_group_actions">
                                <div class="kt-subheader__desc"><span id="kt_subheader_group_selected_rows"></span> Selected:</div>
                                <div class="btn-toolbar kt-margin-l-20">
                                    <div class="dropdown" id="kt_subheader_group_actions_status_change">
                                        <button type="button" class="btn btn-label-brand btn-bold btn-sm dropdown-toggle" data-toggle="dropdown">
                                            Update Status
                                        </button>
                                        <div class="dropdown-menu">
                                            <ul class="kt-nav">
                                                <li class="kt-nav__section kt-nav__section--first">
                                                    <span class="kt-nav__section-text">Change status to:</span>
                                                </li>
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link" data-toggle="status-change" data-status="1">
                                                        <span class="kt-nav__link-text"><span class="kt-badge kt-badge--unified-success kt-badge--inline kt-badge--bold">Approved</span></span>
                                                    </a>
                                                </li>
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link" data-toggle="status-change" data-status="2">
                                                        <span class="kt-nav__link-text"><span class="kt-badge kt-badge--unified-danger kt-badge--inline kt-badge--bold">Rejected</span></span>
                                                    </a>
                                                </li>
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link" data-toggle="status-change" data-status="3">
                                                        <span class="kt-nav__link-text"><span class="kt-badge kt-badge--unified-warning kt-badge--inline kt-badge--bold">Pending</span></span>
                                                    </a>
                                                </li>
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link" data-toggle="status-change" data-status="4">
                                                        <span class="kt-nav__link-text"><span class="kt-badge kt-badge--unified-info kt-badge--inline kt-badge--bold">On Hold</span></span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <button class="btn btn-label-success btn-bold btn-sm btn-icon-h" id="kt_subheader_group_actions_fetch" data-toggle="modal" data-target="#kt_datatable_records_fetch_modal">
                                        Fetch Selected
                                    </button>
                                    <button class="btn btn-label-danger btn-bold btn-sm btn-icon-h" id="kt_subheader_group_actions_delete_all">
                                        Delete All
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="kt-subheader__toolbar">
                            <a href="#" class="">
                            </a>
                            <a href="demo1/custom/apps/user/add-user.html" class="btn btn-label-brand btn-bold">
                                Add User </a>
                            <div class="kt-subheader__wrapper">
                                <div class="dropdown dropdown-inline" data-toggle="kt-tooltip-" title="Quick actions" data-placement="left">
                                    <a href="#" class="btn btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon kt-svg-icon--success kt-svg-icon--md">
                                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon>
                                                <path d="M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero" opacity="0.3"></path>
                                                <path d="M11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 Z" id="Combined-Shape" fill="#000000"></path>
                                            </g>
                                        </svg>

                                        <!--<i class="flaticon2-plus"></i>-->
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-fit dropdown-menu-md dropdown-menu-right">

                                        <!--begin::Nav-->
                                        <ul class="kt-nav">
                                            <li class="kt-nav__head">
                                                Add New:
                                                <i class="flaticon2-information" data-toggle="kt-tooltip" data-placement="right" title="" data-original-title="Click to learn more..."></i>
                                            </li>
                                            <li class="kt-nav__separator"></li>
                                            <li class="kt-nav__item">
                                                <a href="#" class="kt-nav__link">
                                                    <i class="kt-nav__link-icon flaticon2-drop"></i>
                                                    <span class="kt-nav__link-text">Orders</span>
                                                </a>
                                            </li>
                                            <li class="kt-nav__item">
                                                <a href="#" class="kt-nav__link">
                                                    <i class="kt-nav__link-icon flaticon2-new-email"></i>
                                                    <span class="kt-nav__link-text">Members</span>
                                                    <span class="kt-nav__link-badge">
																<span class="kt-badge kt-badge--brand kt-badge--rounded">15</span>
															</span>
                                                </a>
                                            </li>
                                            <li class="kt-nav__item">
                                                <a href="#" class="kt-nav__link">
                                                    <i class="kt-nav__link-icon flaticon2-calendar-8"></i>
                                                    <span class="kt-nav__link-text">Reports</span>
                                                </a>
                                            </li>
                                            <li class="kt-nav__item">
                                                <a href="#" class="kt-nav__link">
                                                    <i class="kt-nav__link-icon flaticon2-link"></i>
                                                    <span class="kt-nav__link-text">Finance</span>
                                                </a>
                                            </li>
                                            <li class="kt-nav__separator"></li>
                                            <li class="kt-nav__foot">
                                                <a class="btn btn-label-brand btn-bold btn-sm" href="#">More options</a>
                                                <a class="btn btn-clean btn-bold btn-sm kt-hidden" href="#" data-toggle="kt-tooltip" data-placement="right" title="" data-original-title="Click to learn more...">Learn more</a>
                                            </li>
                                        </ul>

                                        <!--end::Nav-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- end:: Content Head -->

                <!-- begin:: Content -->
                <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                    <!--Begin::Section-->
                    <div class="row">
                        <div class="col-xl-3" th:each="diffInfo : ${lsDiffPage}">
                            <!--Begin::Portlet-->
                            <div class="kt-portlet kt-portlet--height-fluid">
                                <div class="kt-portlet__head kt-portlet__head--noborder">
                                    <div class="kt-portlet__head-label">
                                        <h3 class="kt-portlet__head-title">
                                        </h3>
                                    </div>
                                    <div class="kt-portlet__head-toolbar">
                                        <a href="#" class="btn btn-icon" data-toggle="dropdown">
                                            <i class="flaticon-more-1 kt-font-brand"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right">
                                            <ul class="kt-nav">
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link">
                                                        <i class="kt-nav__link-icon flaticon2-line-chart"></i>
                                                        <span class="kt-nav__link-text">수정</span>
                                                    </a>
                                                </li>
                                                <li class="kt-nav__item">
                                                    <a href="#" class="kt-nav__link">
                                                        <i class="kt-nav__link-icon flaticon2-send"></i>
                                                        <span class="kt-nav__link-text">삭제</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="kt-portlet__body">
                                    <!--begin::Widget -->
                                    <div class="kt-widget kt-widget--user-profile-2">
                                        <div class="kt-widget__head">
                                            <div class="kt-widget__media">
                                                <img class="kt-widget__img kt-hidden"
                                                     th:src="@{/ls-diff/img(id=${diffInfo.id})}" alt="image">
                                            </div>
                                        </div>
                                        <div class="kt-widget__body">
                                            <div type="hidden" name="id" th:text="${diffInfo.id}"></div>
                                            <div class="kt-widget__item">
                                                <div class="kt-widget__contact">
                                                    <span class="kt-widget__label">내용:</span>
                                                    <span class="kt-widget__data" th:text="${diffInfo.lsDiffName}"></span>
                                                </div>
                                                <div class="kt-widget__contact">
                                                    <span class="kt-widget__label">등록일:</span>
                                                    <span class="kt-widget__data" th:text="${diffInfo.registDt}"></span>
                                                </div>
                                                <div class="kt-widget__contact">
                                                    <span class="kt-widget__label">수정일:</span>
                                                    <span class="kt-widget__data" th:text="${diffInfo.updtDt}"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="kt-widget__footer">
                                            <button type="button" class="btn btn-label-warning btn-lg btn-upper">상세보기</button>
                                        </div>
                                    </div>
                                    <!--end::Widget -->
                                </div>
                            </div>
                            <!--End::Portlet-->
                        </div>
                    </div>
                </div>

                <!-- end:: Content -->
            </div>
            <!-- begin:: Footer -->
            <div th:insert="~{fragments/footer :: footer}"/>
            <!-- end:: Footer -->
        </div>
    </div>
</div>

<!-- end:: Page -->

<!-- begin::Quick Panel -->
<div th:insert="~{fragments/quick-panel :: quick-panel}"/>
<!-- end::Quick Panel -->

<!-- begin::Scrolltop -->
<div th:insert="~{fragments/scrolltop :: scrolltop}"/>
<!-- end::Scrolltop -->

<!-- begin::Sticky Toolbar -->
<div th:insert="~{fragments/sticky-toolbar :: sticky-toolbar}"/>
<!-- end::Sticky Toolbar -->

<!-- begin::Demo Panel -->
<div th:insert="~{fragments/demo-panel :: demo-panel}"/>
<!-- end::Demo Panel -->

<!--Begin:: Chat-->
<div th:insert="~{fragments/chat :: chat}"/>
<!--ENd:: Chat-->



<!--begin:: Global Mandatory Vendors -->
<div th:insert="~{fragments/js :: global-js}"/>
<!--end:: Global Mandatory Vendors -->

<!--begin::Modal-->
<div class="modal fade" id="ls-diff-modi-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="margin-top: 15%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">경관비교그룹 수정</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <form method="post" id="ls-diff-modi-modal-form" action="/adminsvc/ls-diff-group/edit/">
                    <div class="form-group">
                        <label for="lsDiffGrupName" class="form-control-label">경관명</label>
                        <input type="text" class="form-control" name="lsDiffGrupName" id="lsDiffGrupName">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Send message</button>
            </div>
        </div>
    </div>
</div>

<!--end::Modal-->

<!--begin::Global Theme Bundle(used by all pages) -->
<script src="./assets/js/demo1/scripts.bundle.js" type="text/javascript"></script>
<!--end::Global Theme Bundle -->


<!--begin::Page Scripts(used by this page) -->
<script src="./assets/js/demo1/pages/dashboard.js" type="text/javascript"></script>
<!--end::Page Scripts -->
<!--landscape_diff_group_list_datatable-->
</body>
<script>

    var KTDatatableRemoteAjaxDemo = function() {
        // Private functions

        // basic demo
        var demo = function() {

            var datatable = $('.kt-datatable').KTDatatable({
                // datasource definition
                data: {
                    type: 'remote',
                    source: {
                        read: {
                            url: 'http://localhost:9091/adminsvc/ls-diff-group-rest',
                            map: function(raw) {
                                // sample data mapping
                                var dataSet = raw;
                                if (typeof raw.data !== 'undefined') {
                                    dataSet = raw.data;
                                }
                                return dataSet;
                            },
                        },
                    },
                    pageSize: 10
                },

                // layout definition
                layout: {
                    scroll: true,
                    footer: false,
                },

                // column sorting
                sortable: true,

                pagination: true,

                search: {
                    input: $('#generalSearch'),
                },
                // columns definition
                columns: [
                    {
                        field: 'id',
                        title: '아이디',
                        selector: false,
                        textAlign: 'center',
                    },
                    {
                        field: 'lsDiffGrupName',
                        title: '그룹명',
                        selector: false,
                        textAlign: 'center',
                    },
                    {
                        field: 'registDt',
                        title: '등록일',
                        selector: false,
                        textAlign: 'center',
                        type: 'date',
                        format: 'YYYY/MM/DD',
                    },
                    {
                        field: 'updtDt',
                        title: '수정일',
                        selector: false,
                        textAlign: 'center',
                        type: 'date',
                        format: 'YYYY/MM/DD',
                    },
                    {
                        field: "modifiedAction",
                        width: 80,
                        title: "수정",
                        sortable: false,
                        autoHide: false,
                        overflow: 'visible',
                        textAlign: 'center',
                        template: function (row) {
                            debugger;
                            return '' +
                                "<span style='overflow: visible; position: relative; width: 80px;'>"+
                                "<button class=\"btn btn-bold btn-label-brand btn-sm\" " +
                                "onclick=\"'lsDiffModiBtn("+row.id + "," + row.lsDiffGrupName+")'\""+
                                "data-toggle=\"modal\" data-target=\"#ls-diff-modi-modal\">수정</button>"+
                                "</span>"
                        },

                    },
                    {
                        field: "deleteAction",
                        width: 80,
                        title: "삭제",
                        sortable: false,
                        autoHide: false,
                        overflow: 'visible',
                        textAlign: 'center',
                        template: function (row) {
                            debugger;
                            return '' +
                                "<form method='POST'"+
                                "action='/adminsvc/ls-diff-group/delete/"+row.id+"'"+
                                "onsubmit='return confirm('정말 삭제하시겠습니까?');'>"+
                                "<span style='overflow: visible; position: relative; width: 80px;'>"+
                                "<button class='btn btn-bold btn-sm btn-font-sm  btn-label-success'>삭제</button>"+
                                "</span>"+
                                "</form>";
                        },
                    }],

            });

            $('#kt_form_status').on('change', function() {
                datatable.search($(this).val().toLowerCase(), 'Status');
            });

            $('#kt_form_type').on('change', function() {
                datatable.search($(this).val().toLowerCase(), 'Type');
            });

            $('#kt_form_status,#kt_form_type').selectpicker();

        };

        return {
            // public functions
            init: function() {
                demo();
            },
        };
    }();

    function lsDiffModiBtn(id, value) {
        $('#lsDiffGrupName').val('');

        const action = window.location.href + '/edit/' + id;
        $('#ls-diff-modi-modal-form').attr('action', action);
        $('#lsDiffGrupName').val(value);
    }

    $(document).ready(function() {
        KTDatatableRemoteAjaxDemo.init();
    });
</script>
<!-- end::Body -->
</html>